\subsubsection{Timeout and Pass}%
\label{sec:blocking}%
%
If the control job $j_k$ times out, the job passes most of the control algorithm, i.e., the controller's internal state $z_k$ will be kept unchanged and no new control command $u_{k+1}$ will be sent to the actuators.
Updating Listing~\ref{lst:control-job} accordingly:
%
\begin{lstlisting}[label=lst:pass,caption={\note{Needs to be discussed - specifically actuate(u)} Timeout and Pass control code execution.}]
    while true:
        send_actuator_ch(u);
        y, tout = read_sensor_ch(timeout);
        if not tout:
            u, z = compute_control(y, z);
        sleep_until(next_period);
\end{lstlisting}
%
If the job in Listing~\ref{lst:pass} times out, the receive function returns the variable \texttt{tout} (with value \texttt{true}) and the task will go to sleep until the next job is activated.

Again, the dynamics of the closed-loop system depend on whether the scheduler handles overrun deadlines with either Kill or Skip. 
We therefore have to analyse the two cases separately.
We use the symbol ``$\unkn$'' to indicate that the control algorithm is passed due an unreceived sensor message.


\textbf{Kill:}
%
\begin{table}[t]
    \centering
    \caption{Table for \texttt{timeout} and Pass + Kill}
    \label{tab:pass-kill} 
    \begin{tabular}{c|ccc|l}\hline\hline
                                        & \textbf{\texttt{sense}}   & \textbf{\texttt{control}} & \textbf{\texttt{actuate}} & probability \\ \hline\hline
        $A_{\recv\hit\recv}$          & \ding{51}                 & \ding{51}                 & \ding{51}                 & $(1-\rho_s)(1-\rho_c)(1-\rho_a)$ \\
        $A_{\loss\unkn\recv}$          & \ding{55}                 & --                        & \ding{51}                 & $\rho_s(1-\rho_a)$ \\
        $A_{\recv\miss\recv}$         & \ding{51}                 & \ding{55}                 & \ding{51}                 & $(1-\rho_s)\rho_c(1-\rho_a)$ \\
        $A_{\recv\hit\loss}$           & \ding{51}                 & \ding{51}                 & \ding{55}                 & $(1-\rho_s)(1-\rho_c)\rho_a$ \\
        $A_{\recv\miss\loss}$          & \ding{51}                 & \ding{55}                 & \ding{55}                 & $(1-\rho_s)\rho_c\rho_a$ \\
        $A_{\loss\unkn\loss}$           & \ding{55}                 & --                        & \ding{55}                 & $\rho_s\rho_a$ \\\hline\hline
    \end{tabular}
\end{table}
%
Given the outcome sets for the sensors $\sset$, controller $\ckset$, and actuators $\aset$, we can now fully describe the system dynamics.
In Table~\ref{tab:pass-kill}, the possible combinations of outcomes and their corresponding closed-loop matrices are summarised.

We denote the closed-loop state vector for Pass and Kill with
%
\begin{equation*}
    \tilde x_k^{\Pass\Kill} = \left[ x_k^\T{}, z_k^\T{}, u_k^\T{} \right]^\T{}.
\end{equation*}
%
Note that we no longer require the old sensor value.
The matrices $A_{sca}^{\Pass\Kill}$ describing the system behaviour~\eqref{eq:cl-dynamics} are then described in~\eqref{eq:pass-kill}.
%
\input{sec/matrices/pass-kill}%
%
\discuss{We denote the set of closed-loop system matrices for the case of Pass and Kill with $\mpkset$, i.e., $\mpkset = \left\{ A_{sca}^{\Pass\Kill}\; | \; s \in \sset,\, c \in \ckset,\, a \in \aset \right\}$}.


\textbf{Skip:}
%
\begin{table}[t]
    \centering
    \caption{Table for \texttt{timeout} and Pass + Skip}
    \label{tab:pass-skip} 
    \begin{tabular}{c|ccc|l}\hline\hline
                                        & \textbf{\texttt{sense}}   & \textbf{\texttt{control}} & \textbf{\texttt{actuate}} & probability \\ \hline\hline
        $A_{\recv\hit\recv}$          & \ding{51}                 & \ding{51}                 & \ding{51}                 & \discuss{$(1-\rho_s)(1-\rho_c)(1-\rho_a)$} \\
        $A_{\loss\unkn\recv}$          & \ding{55}                 & --                        & \ding{51}                 & \discuss{$\rho_s(1-\rho_a)$} \\
        $A_{\loss\unkn\loss}$           & \ding{55}                 & --                        & \ding{55}                 & \discuss{$\rho_s\rho_a$} \\
        $A_{\recv\miss\recv}$         & \ding{51}                 & \ding{55}                 & \ding{51}                 & \discuss{$(1-\rho_s)\rho_c(1-\rho_a)$} \\
        $A_{\loss\miss\recv}$          & \ding{55}                 & \ding{55}                 & \ding{51}                 & \discuss{$\rho_s\rho_c(1-\rho_a)$} \\
        $A_{\recv\hit\loss}$           & \ding{51}                 & \ding{51}                 & \ding{55}                 & \discuss{$(1-\rho_s)(1-\rho_c)\rho_a$} \\
        $A_{\recv\miss\loss}$          & \ding{51}                 & \ding{55}                 & \ding{55}                 & \discuss{$(1-\rho_s)\rho_c\rho_a$} \\
        $A_{\loss\miss\loss}$           & \ding{55}                 & \ding{55}                 & \ding{55}                 & \discuss{$\rho_s\rho_c\rho_a$} \\
        $A_{\recv\recov\recv}$        & \ding{51}                 & \ding{51}                 & \ding{51}                 & \discuss{$(1-\rho_s)(1-\rho_c)(1-\rho_a)$} \\
        $A_{\loss\recov\recv}$         & \ding{55}                 & \ding{51}                 & \ding{51}                 & \discuss{$\rho_s(1-\rho_c)(1-\rho_a)$} \\
        $A_{\recv\recov\loss}$         & \ding{51}                 & \ding{51}                 & \ding{55}                 & \discuss{$(1-\rho_s)(1-\rho_c)\rho_a$} \\
        $A_{\loss\recov\loss}$          & \ding{55}                 & \ding{51}                 & \ding{55}                 & \discuss{$\rho_s(1-\rho_c)\rho_a$} \\\hline\hline
    \end{tabular}
\end{table}
%
\note{redo this text if needed}\\
Similar to the Continue and Skip case, the possible combinations of outcomes, i.e., $s \in \sset$, $c \in \csset$, and $a \in \aset$, and their corresponding closed-loop matrices are summarised in Table~\ref{tab:pass-skip}.
The resulting closed-loop state vector under Pass and Skip is then
%
\begin{equation*}
    \tilde x_k^{\Pass\Skip} = \left[ x^\T{}_k, z^\T{}_k, u^\T{}_k, \hat x^\T{}_k, \hat u^\T{}_k \right]^\T{}.
\end{equation*}
%
Again, note that we no longer require the old sensor value.
The matrices $A_{sca}^{\Pass\Skip}$ describing the system behaviour~\eqref{eq:cl-dynamics} are derived in~\eqref{eq:pass-skip}.
%
\input{sec/matrices/pass-skip}%
%
\discuss{We denote the set of closed-loop system matrices for the case of Pass and Skip with $\mpsset$, i.e., $\mpsset = \left\{ A_{sca}^{\Pass\Skip}\; | \; s \in \sset,\, c \in \csset,\, a \in \aset \right\}$}.
